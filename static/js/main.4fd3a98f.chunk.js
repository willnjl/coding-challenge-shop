(this["webpackJsonpgoodenergy-show"]=this["webpackJsonpgoodenergy-show"]||[]).push([[0],{50:function(e,t,c){},54:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c(0),a=c.n(i),r=c(19),s=c(10),l=c(23),o=c.n(l),j=(c(50),c(26)),u=c(4);function b(e){var t=e.children;return Object(n.jsx)("div",{className:"page-wrapper",children:t})}var d=c(75),h=c(79),O=c(82),f=c(83),p=c(84),m=c(78),x=c(80),g=c(81),v=c(85),w=function(e){return e>0?"\xa3".concat(e.toFixed(2)):"-"},k=Object(d.a)({table:{},cell:{minWidth:35}});var y=Object(s.b)((function(e){return{cart:e.cart}}))((function(e){var t=e.cart,c=k();return Object(n.jsx)(a.a.Fragment,{children:Object(n.jsx)("div",{className:"till shadow--0",children:Object(n.jsx)(m.a,{component:v.a,children:Object(n.jsxs)(h.a,{className:c.table,children:[Object(n.jsx)(x.a,{children:Object(n.jsxs)(g.a,{children:[Object(n.jsx)(p.a,{scope:"col",align:"center",children:"Product"}),Object(n.jsx)(p.a,{scope:"col",align:"center",className:c.cell,children:"Price"}),Object(n.jsx)(p.a,{scope:"col",align:"center",children:"Qty"}),Object(n.jsx)(p.a,{scope:"col",align:"center",classes:c.root,children:"Discount"}),Object(n.jsx)(p.a,{scope:"col",align:"center",className:c.cell,children:"Total"})]})}),Object(n.jsx)(O.a,{children:t.cart.map((function(e){return Object(n.jsxs)(g.a,{children:[Object(n.jsx)(p.a,{scope:"row",align:"center",children:e.name}),Object(n.jsx)(p.a,{align:"center",children:w(e.price)}),Object(n.jsx)(p.a,{align:"center",children:e.quantity}),Object(n.jsx)(p.a,{align:"center",children:w(e.discount)}),Object(n.jsx)(p.a,{align:"center",children:w(e.price*e.quantity-e.discount)})]})}))}),Object(n.jsxs)(f.a,{children:[Object(n.jsxs)(g.a,{children:[Object(n.jsx)(p.a,{colSpan:3}),Object(n.jsx)(p.a,{size:"small",children:"Subtotal"}),Object(n.jsx)(p.a,{children:w(t.subtotal)})]}),Object(n.jsxs)(g.a,{children:[Object(n.jsx)(p.a,{colSpan:3}),Object(n.jsx)(p.a,{size:"small",children:"Discount"}),Object(n.jsx)(p.a,{children:w(t.discount)})]}),Object(n.jsxs)(g.a,{children:[Object(n.jsx)(p.a,{colSpan:3}),Object(n.jsx)(p.a,{size:"medium",variant:"head",children:"Total"}),Object(n.jsx)(p.a,{size:"medium",variant:"head",children:w(t.total)})]})]})]})})})})})),_=c(22);function N(e){var t=e.unavailible,c=e.stock;return Object(n.jsx)("div",{className:"availible--".concat(t?"out":"in"),children:t?"sorry, out of stock":"".concat(c," in stock")})}var F=function(e){return"\xa3 ".concat(e.toFixed(2))};function C(e){var t=e.price;return Object(n.jsx)("span",{class:"price",children:F(t)})}function S(e){var t=e.handleClick,c=e.quantity,i=e.unavailible,a=e.stock;return Object(n.jsxs)("div",{className:"btn_container",children:[Object(n.jsx)("button",{disabled:i||0===c,onClick:function(){return t(-1)},className:"button btn-quantity--minus",children:"-"}),Object(n.jsx)("span",{className:"quantity",children:c}),Object(n.jsx)("button",{disabled:i||c===a,className:" button btn-quantity--plus",onClick:function(){return t(1)},children:"+"})]})}function T(e){var t=e.handleSubmit,c=e.unavailible;return Object(n.jsx)("button",{onClick:t,disabled:c,className:"button btn-add-to-cart",children:"add to cart"})}var q=Object(s.b)((function(e,t){var c=e.items,n=e.cart;return{item:c[t.id],cart:n}}))((function(e){var t=e.item;return e.cart,Object(n.jsx)("div",{className:"offer",children:t.offer?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd",children:Object(n.jsx)("path",{d:"M12 0c6.623 0 12 5.377 12 12s-5.377 12-12 12-12-5.377-12-12 5.377-12 12-12zm0 1c6.071 0 11 4.929 11 11s-4.929 11-11 11-11-4.929-11-11 4.929-11 11-11zm.5 17h-1v-9h1v9zm-.5-12c.466 0 .845.378.845.845 0 .466-.379.844-.845.844-.466 0-.845-.378-.845-.844 0-.467.379-.845.845-.845z"})}),Object(n.jsx)("span",{children:t.offer?t.offer.description:null})]}):null})}));var E=Object(s.b)((function(e){return{items:e.items}}),(function(e){return{handleSubmit:function(t,c){return e(function(e,t){return{type:"ADD_TO_CART",payload:{item:e,quantity:t}}}(t,c))}}}))((function(e){var t=e.item,c=e.handleSubmit,a=Object(i.useState)(1),r=Object(_.a)(a,2),s=r[0],l=r[1],o=Object(i.useState)(!1),j=Object(_.a)(o,2),u=j[0],b=j[1];Object(i.useEffect)((function(){l(1),0===t.stock?(b(!0),l(0)):b(!1)}),[t.stock]);var d=t.id%5;return Object(n.jsxs)("div",{class:"product shadow--"+d,children:[Object(n.jsx)("h2",{children:t.name}),Object(n.jsx)("img",{className:"img",alt:"Product",src:t.imgUrl}),Object(n.jsx)(N,{unavailible:u,stock:t.stock}),Object(n.jsx)(C,{price:t.price}),Object(n.jsx)(S,{stock:t.stock,quantity:s,handleClick:function(e){l(s+e)},unavailible:u}),Object(n.jsx)(T,{handleSubmit:function(){return c(t,s)},unavailible:u||0===s}),Object(n.jsx)(q,{id:t.id})]})}));var D=Object(s.b)((function(e){return{items:e.items}}))((function(e){var t=e.items;return console.log(t),Object(n.jsx)("section",{className:"shop",children:t.map((function(e){return Object(n.jsx)(E,{item:e})}))})}));function z(){return Object(n.jsxs)("section",{className:"message__container shadow--2",children:[Object(n.jsx)("h1",{children:"Thanks for shopping with us"}),Object(n.jsx)("h2",{children:" We hope to hear from you again soon"}),Object(n.jsxs)("div",{className:"links__container",children:[Object(n.jsxs)("p",{children:["view the sourcecode on",Object(n.jsx)("a",{href:"https://github.com/willnjl/coding-challenge-shop",target:"_blank",children:"Github."})]}),Object(n.jsx)("a",{href:"https://github.com/willnjl/coding-challenge-shop",target:"_blank",children:Object(n.jsxs)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("title",{children:"GitHub icon"}),Object(n.jsx)("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"})]})})]})]})}var I=Object(s.b)((function(e){return{cart:e.cart}}))((function(e){return 0===e.cart.cart.length?Object(n.jsx)("div",{disabled:!0,className:"btn-paynow",children:"checkout"}):Object(n.jsx)(j.b,{to:"/pay",className:"btn-paynow",children:"checkout"})}));var U=c(11),R=Object(U.b)(),A=Object(s.b)(null,(function(e){return{handleClick:function(){R.push("/"),e({type:"RESET"})}}}))((function(e){var t=e.handleClick;return Object(n.jsxs)("footer",{className:"footer__container",children:[Object(n.jsx)("button",{className:"button btn-start-over",onClick:t,children:"start over"}),Object(n.jsxs)("div",{className:"links__container",children:[Object(n.jsxs)("p",{children:["view the source code on",Object(n.jsx)("a",{href:"https://github.com/willnjl/coding-challenge-shop",target:"_blank",children:"Github."})]}),Object(n.jsx)("a",{href:"https://github.com/willnjl/coding-challenge-shop",target:"_blank",children:Object(n.jsxs)("svg",{viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("title",{children:"GitHub icon"}),Object(n.jsx)("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"})]})})]})]})}));var B=function(){return Object(n.jsxs)(j.a,{history:R,children:[Object(n.jsx)(u.a,{exact:!0,path:"/",children:Object(n.jsxs)(b,{children:[Object(n.jsx)(D,{}),Object(n.jsx)(y,{}),Object(n.jsx)(I,{})]})}),Object(n.jsx)(u.a,{path:"/pay",children:Object(n.jsxs)(b,{children:[Object(n.jsx)(z,{}),Object(n.jsx)(y,{})]})}),Object(n.jsx)(A,{})]})},P=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,87)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),i(e),a(e),r(e)}))},G=c(17),M=[{id:0,name:"toilet roll",price:10.99,imgUrl:"https://github.com/willnjl/coding-challenge-shop/blob/6ce9d1e333e3a4766ba118f46bc23749b939233d/public%2Fassets%2Ftp.jpeg?raw=true",stock:0,offer:null},{id:1,name:"bread",price:1.2,imgUrl:"https://github.com/willnjl/coding-challenge-shop/blob/dd50d71a6b5c02af3cce85c3a9f68d1975cb4e39/public%2Fassets%2Fbread.jpeg?raw=true",stock:5,discount:0,offer:null},{id:2,name:"milk",price:.5,imgUrl:"https://github.com/willnjl/coding-challenge-shop/blob/dd50d71a6b5c02af3cce85c3a9f68d1975cb4e39/public%2Fassets%2Fmilk.jpeg?raw=true",stock:7,offer:null},{id:3,name:"cheese",price:.9,imgUrl:"https://github.com/willnjl/coding-challenge-shop/blob/dd50d71a6b5c02af3cce85c3a9f68d1975cb4e39/public%2Fassets%2Fcheese.jpeg?raw=true",stock:6,offer:{itemId:3,description:"Two for the price of one!",discount:function(e,t){return(t-t%2)/2*e.price}}},{id:4,name:"soup",price:.6,imgUrl:"https://github.com/willnjl/coding-challenge-shop/blob/dd50d71a6b5c02af3cce85c3a9f68d1975cb4e39/public%2Fassets%2Fsoup.jpeg?raw=true",stock:5,offer:{itemId:1,description:"Buy soup and get a bread half price!",discount:function(e,t){var c=e.price,n=c*e.quantity/2,i=t*c/2;return n<i?n:i}}},{id:5,name:"butter",price:1.2,imgUrl:"https://github.com/willnjl/coding-challenge-shop/blob/dd50d71a6b5c02af3cce85c3a9f68d1975cb4e39/public%2Fassets%2Fbutter.jpeg?raw=true",stock:5,offer:{itemId:5,description:"Butter is a third off!",discount:function(e,t){return e.price*t/3}}}],L={cart:[],subtotal:0,discount:0,total:0},H=c(8),J=function(e,t){var c=t.item,n=t.quantity,i=c.id;return e.map((function(e,t){return t===i?Object(H.a)(Object(H.a)({},e),{},{stock:e.stock-n}):e}))},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":return Object(G.a)(J(e,t.payload));case"RESET":return M;default:return e}},X=function(e,t){var c=t.item,n=t.quantity,i=Object(G.a)(e.cart),a=e.cart.findIndex((function(e){return e.id===c.id}));if(-1===a){var r=c.id,s=c.price,l=c.name,o=c.offer;return Object(H.a)(Object(H.a)({},e),{},{cart:[].concat(Object(G.a)(i),[{id:r,name:l,price:s,quantity:n,offer:o,discount:0}])})}return i[a].quantity+=n,Object(H.a)(Object(H.a)({},e),{},{cart:i})},Q=function(e){var t=e.cart;return t.forEach((function(e){if(e.offer){var c=t.find((function(t){return t.id===e.offer.itemId}));c&&(c.discount=e.offer.discount(c,e.quantity))}})),Object(H.a)(Object(H.a)({},e),{},{cart:t})},V=function(e){var t=e.cart,c=t.reduce((function(e,t){return e+t.price*t.quantity}),0),n=t.reduce((function(e,t){return e+t.discount}),0),i=c-n;return Object(H.a)(Object(H.a)({},e),{},{subtotal:c,discount:n,total:i})},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":return V(Q(X(e,t.payload)));case"RESET":return Object(H.a)({},L);default:return e}},Y=Object(r.b)({items:W,cart:K}),Z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.c,$=Object(r.d)(Y,Z());o.a.render(Object(n.jsx)(s.a,{store:$,children:Object(n.jsx)(B,{})}),document.getElementById("root")),P()}},[[54,1,2]]]);
//# sourceMappingURL=main.4fd3a98f.chunk.js.map